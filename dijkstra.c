#include <iostream>
#define nVertices 27
#define INF 10000

using namespace std;

int path[nVertices];
int shortest_path[nVertices];
int destination, source;
int arr[] = {0,1,13,3,13,5,14,7,14,9,15,12,15};

//Finds the vertex with minimum distace value
int minDistance (int dist [], bool sptSet []) {
  // Initializing minimum values
  int min = INF, mIndex;
  for (int i = 0; i < nVertices; i++){
    if (sptSet[i] == false && dist[i] <= min)
      min = dist[i], mIndex = i;
  }
  return mIndex;
}

void dijkstra (int graph[nVertices][nVertices], int src) {
  // int start_time = millis ();
  int dist[nVertices];        //Stores shortest distance of vertex i from source
  bool sptSet [nVertices];    //Tells if the shortest path is known yet
  //Initializing shortest distance to infinity and inclusion in shortest path to false
  for (int i = 0; i < nVertices; i++)
    dist [i] = INF, sptSet [i] = false;
  dist [src] = 0;               //Distance of source is 0 from itself
  //Finding shortest path of all matrix
  for (int i = 0; i < nVertices - 1; i++){
    //Takes the minimum distance vertex from the set of vertices that is yet to be processed
    int u = minDistance (dist, sptSet);
    //Marks the just explored vertex as processed
    sptSet[u] = true;
    //Updating the value of adjacent vertices of the picked vertex.
    for (int v = 0; v < nVertices; v++){
      /*
       * Update dist[v] only if it is not in sptSet. There is an edge from u to v,
       * and total weight of path from source to v through u is
       * smaller than the current value of dist[v]
       */
       if (!sptSet[v] && graph[u][v] && dist[u] != INF && 
            dist[u] + graph [u][v] < dist[v])
              dist[v] = dist[u] +  graph [u][v], path[v] = u;
    }
    path [src] = -1;          //Trace back to source succesful, marking source with -1.
  }
}

void shortestPath (int src, int dest){
  //Updates stack with the shortest path from source to destination.
  //Pop operation on the stack will retain the next vertex that needs to be visited.
  int current_vertex = dest;
  int shortest_counter = 0;
  //path[src] = -1;
  shortest_path[0] = dest;
  shortest_counter++;
  while (path[current_vertex] != -1){      //-1 indicates end of path tracing
    shortest_path[shortest_counter] = path[current_vertex];
    current_vertex = path[current_vertex];
    shortest_counter++;
  }
  shortest_path[shortest_counter] = -1;
}

int main() {
    int graph[nVertices][nVertices] = {
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0},//0
              {0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0},//1
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0},//2
              {0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0},//3
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0},//4
              {0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0},//5
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0},//6
              {0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0},//7
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0},//8
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0},//9
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},//10
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},//11
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},//12
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0},//13
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0},//14
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},//15
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0},//16
              {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0},//17
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0},//18
              {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},//19
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},//20
              {0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},//21
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},//22
              {0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0},//23
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},//24
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0},//25
      //       0, 1, 2, 3, 4, 5, 6, 7, 8, 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
              {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},//26
                      };

 /* char directions[nVertices][nVertices] = {
              {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','w','n','e','s','0','0','0','0','0','0','0'},//0
              {'0','0','n','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','s','0','0','0','0','0'},//1
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','s','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','n','0','0','0','0','0','0'},//2
              {'0','0','0','0','n','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','s','0','0','0','0','0','0'},//3
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','s','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','n','0','0','0','0'},//4
              {'0','0','0','0','0','0','e','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','w','0','0','0','0'},//5
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','w','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','e','0','0','0'},//6
              {'0','0','0','0','0','0','0','0','e','0','0','0','0','0','0','0','0','0','0','0','0','0','0','w','0','0','0'},//7
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','0','0','w','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','e','0','0'},//8
              {'0','0','0','0','0','0','0','0','0','0','s','0','0','0','0','0','0','0','0','0','0','0','0','0','n','0','0'},//9
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','0','0','0','0','n','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','s','0'},//10
              {'0','0','0','0','0','0','0','0','0','0','0','0','s','0','0','0','0','0','0','0','0','0','0','0','0','n','0'},//11
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','0','0','0','0','0','0','n','0','0','0','0','0','0','0','0','0','0','0','0','0','0','s'},//12
              {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','w','0','0','0','0','0'},//13
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','n','0','0','0','0','0','0','0'},//14
              {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','e'},//15
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'e','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','w','0','0','0','0','0','0'},//16
              {'s','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','n','0','0','0'},//17
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'w','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','e','0'},//18
              {'n','0','0','0','0','0','0','0','0','0','0','0','0','0','s','0','0','0','0','0','0','0','0','0','0','0','0'},//19
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','s','n','0','0','0','0','0','0','0','0','0','0','0','0','e','0','0','0','0','0','0','0','0','0','0'},//20
              {'0','n','0','0','0','0','0','0','0','0','0','0','0','e','0','0','0','0','0','0','0','0','0','0','0','0','0'},//21
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','s','e','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},//22
              {'0','0','0','0','0','0','w','e','0','0','0','0','0','0','0','0','0','s','0','0','0','0','0','0','0','0','0'},//23
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','0','0','0','w','s','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},//24
              {'0','0','0','0','0','0','0','0','0','0','n','s','0','0','0','0','0','0','w','0','0','0','0','0','0','0','0'},//25
      //       0,   1,  2,  3,  4,  5,  6,  7,  8,  9   10 11  12  13 '14   15  16  17 18  19  20   21  22 23  24  25  26
              {'0','0','0','0','0','0','0','0','0','0','0','0','n','0','0','w','0','0','0','0','0','0','0','0','0','0','0'},//26
                      };
*/

  // int directions[nVertices][4][2];
  // for (int i = 0; i < nVertices; i++) {
  //   for (int j = 0; j < 4; j++) {
  //     directions[i][j][0] = -2;
  //   }
  //   int dir_count = 0;
  //   for (int j = 0; j < nVertices; j++;) {
  //     if graph[i][j] == 1 {

  //     }
  //     directions[i][di] = graph[]
  //   }
  // }
  int e = 1;
  int test_path[70];
  for (int i = 0; i< 70; i++) {
    test_path[70] = -2;
  }
  test_path[0] = 0;
  for (int q = 0; q < (sizeof(arr)/sizeof(*arr)); q++){
    destination = arr[q];
    source = arr[q+1];    
    for (int i = 0; i < nVertices; i++){
      shortest_path[i] = -2;
    }
    dijkstra (graph, source);
    shortestPath (source, destination);

    for (int i = 1; i < nVertices; i++){
      if (shortest_path[i] > -1){
        // if (shortest_path[i] == shortest_path[i+1])
        //   e++;
        // for (int j = 0; j < nVertices; j++){
        //   j += e;
          test_path[e] = shortest_path[i];
          e++;
        // }
      }
      else 
        break;
    }
  }
  int i = 0;
  while (test_path[i] != -2) {
    cout<<test_path[i]<<endl;
    i++;
  }
}
