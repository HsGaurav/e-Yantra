#include <Stepper.h>
#include <SoftwareSerial.h>
#define rxPin 2
#define txPin 3
const int SPR = 200;
char x,y,z;
int i=10,j=20,k=30 ;
int go=0;
char color[4]={'r','g','b','y'};

SoftwareSerial xbee =  SoftwareSerial(rxPin, txPin);
Stepper myStepper(SPR, 8, 9, 10, 11);

void setup() {
  // put your setup code here, to run once:
 pinMode(rxPin, INPUT);
 pinMode(txPin, OUTPUT);
 xbee.begin(9600);
 Serial.begin(9600);
 Serial.println("Starting XBee Comunication");
}
 
void loop () {
 myStepper.setSpeed(20); 
   x=(xbee.read()); 
   if(x=='m')
    i=0;
   else if(x=='n')
    i=1;
   else if(x=='o')
    i=2;
   else
    i=9;   

  y=(xbee.read());
   if(y==color[0])
    j=1;
   else if(y==color[1])
    j=2;
   else if(y==color[2])
    j=3;
   else if(y==color[3])
    j=4;
   else
    j=9; 
  
//  z=(xbee.read());  
  k=i+j; 
delay(200);
Serial.println(k);


         if(k==1)
           go=SPR/4;
         else if(k==2)
           go=SPR/2;
         else if(k==3)
           go=SPR*0.75;
         else if(k==4)
           go=SPR*0;
         else if(k==5)
           go=SPR/4;
         else if(k==6)
           go=SPR/2;    
         else
           go=SPR*0; 
                          myStepper.step(go*1.2);   
        
   delay(500);
  // if(z=='s')
   //   myStepper.step(SPR-go);
  // else
     // myStepper.step(0);
}
